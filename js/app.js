function setViewMode(a){createCookie(viewmode_key,a)}function getCurrentViewMode(){return readCookie(viewmode_key)}function adjustTableStyle(a){$(a+" th").removeClass("text-left").addClass("text-center text-uppercase"),$(a+" td").removeClass("text-left").addClass("text-center").children("div").css("margin","auto")}function getDates(a,b){for(var c=[],d=a;moment(d).isSameOrBefore(b);)c.push(moment(d).format("MMM DD, YYYY")),d=moment(d).add(1,"day").format("YYYY-MM-DD");return c}function getSum(a,b){return parseInt(a)+parseInt(b)}function validateMilestone(a,b,c){var d=!0,e="",f=$(".shown .form-control.Milestone_Price").map(function(){if(""!=$(this).val())return $(this).val()}).get(),g=$(".shown .form-control.Milestone_Date").map(function(){if(""!=$(this).val())return $(this).val()}).get();if(f.length!=g.length)e=msg_checkin_less_checkout,d=!1;else{if(0==f.length||0==g.length)return d=!1;var h=parseInt(f.reduce(getSum))+parseInt(a);if(!(parseInt(h)>parseInt(b)))return d=!0;e=msg_cannot_exceed,d=!1}return $("#myModal-warning .overlay").addClass("c-red"),$(".message-warning").html(e),$(".number").html(c),$("#myModal-warning").modal(),d}function resumeViewMode(){var a=getCurrentViewMode();"icon-mode"==a||null==a?$(".change-view").children("i").removeClass("fa-font").addClass("fa-cog"):$(".change-view").children("i").removeClass("fa-cog").addClass("fa-font"),$("span.sunshade").each(function(b){var c=$(this).data("balloon");"icon-mode"==a||null==a?($(this).html(""),$(this).css("background","")):($(this).html(c),$(this).css("background","none"))})}function toggleViewMode(){var a=getCurrentViewMode();"icon-mode"==a||null==a?$(".change-view").children("i").removeClass("fa-cog").addClass("fa-font"):$(".change-view").children("i").removeClass("fa-font").addClass("fa-cog"),$("span.sunshade").each(function(b){var c=$(this).data("balloon");"icon-mode"==a||null==a?($(this).html(c),$(this).css("background","none"),setViewMode("text-mode")):($(this).html(""),$(this).css("background",""),setViewMode("icon-mode"))})}/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent)&&$("html").addClass("ismobile");var main_key="beachclub",search_key="beachclub-search",cart_key="beachclub-cart",milestone_key="beachclub-cart-milestone",viewmode_key="map-view-mode",from_key="from",to_key="to",totalprice_key="total-price";Array.prototype.remove||(Array.prototype.remove=function(a){var b=this.indexOf(a);return b>-1?this.splice(b,1):[]});var today=moment().format("MMM DD, YYYY"),_startDate=today,_endDate=moment().add(3,"months").format("MMM DD, YYYY");jQuery(document).ready(function(a){a(".margin-zero")[0]&&a(".margin-zero").css("margin","0 auto"),a("#zoom_container")[0]&&a("#zoom_container").css("z-index",1),a(".btn-update-map")[0]&&a(".btn-update-map").click(function(b){return b.preventDefault(),moment(a(".from").val(),["DDMMMYYYY","MMMDDYYYY"]).isAfter(moment(a(".to").val(),["DDMMMYYYY","MMMDDYYYY"]))?void a(".group-from").addClass("has-error").children(".help-block").html("Please select the valid date range"):void a("#update-form").submit()}),a(".btn-chart-search")[0]&&(a(".chart-from").val(moment(from).format("MMM DD, YYYY")),a(".chart-to").val(moment(to).format("MMM DD, YYYY")),a(".btn-chart-search").click(function(b){b.preventDefault();var c=moment(a(".chart-from").val(),["MMMDDYYYY","MMMDDYYYY"]).format("YYYY-MM-DD"),d=moment(a(".chart-to").val(),["MMMDDYYYY","MMMDDYYYY"]).format("YYYY-MM-DD");return moment(c).isSameOrAfter(moment(d))?void a(".group-chart-from").addClass("has-error").children(".help-block").html("Please select the valid date range"):void a("#chart-search-form").submit()})),a(".change-dates")[0]&&a(".change-dates").click(function(){a("#myModal-search").modal()}),a(".btn-gotocart")[0]&&a(".btn-gotocart").click(function(b){b.preventDefault();var c=a(this).attr("href");window.location.href.includes("admin")&&void 0!=typeof guestId&&""!=guestId?location.href=c+"&id="+guestId:location.href=c}),a("#sunshademap")[0]&&a("#sunshademap").smoothZoom({width:8e3,height:4102,pan_BUTTONS_SHOW:!0,pan_LIMIT_BOUNDARY:!0,button_AUTO_HIDE:!0,button_AUTO_HIDE_DELAY:2,button_SIZE:20,button_SIZE_TOUCH_DEVICE:18,button_ALIGN:"top right",zoom_MAX:50,animation_SMOOTHNESS:5.5,animation_SPEED_ZOOM:5.5,animation_SPEED_PAN:5.5,border_TRANSPARENCY:20,container:"zoom_container",responsive:!0,touch_DRAG:!1,mouse_DRAG:!1,mouse_WHEEL:!1,mouse_WHEEL_CURSOR_POS:!1,mouse_DOUBLE_CLICK:!1,responsive_maintain_ratio:!0,max_WIDTH:"",max_HEIGHT:""}),a("body").on("click touchstart","span.sunshade",function(){var b=a(this).data("balloon"),c=a(this).data("sunshadeid"),d=a(this).attr("data-cartid"),e="",f=[],g=[];if(a(this).hasClass("green"))e="it"==lang?b+" è stato inserito nel tuo carrello con successo <br>":b+" was inserted into your booking cart successfully <br>",a(".overlay").css("background","rgba(11, 119, 221, 0.33)"),a(this).removeClass("green").addClass("blue").data("previous","yellow"),saveToCart(a(this),c,b);else if(a(this).hasClass("red"))e="it"==lang?"Mi dispiace, questo ombrellone è stato già prenotato da altri!<br/>":"Sorry, This sunshade was already booked by others! <br/>",a(".overlay").css("background","rgba(255, 68, 0, 0.33)");else if(a(this).hasClass("blue"))e="it"==lang?"La Prenotazione dell'Ombrellone per "+b+" è stata annullata.<br/>":"Sunshade booking for "+b+" was cancelled.<br/>",a(this).removeClass("blue"),a(this).hasClass("previous")?(a(this).addClass("yellow"),a(".overlay").css("background","rgba(199,191,32, 0.33)")):(a(this).addClass("green"),a(".overlay").css("background","rgba(162, 255, 0, 0.33)")),removeSunshadeFromCartWithId(d);else if(a(this).hasClass("yellow")){e="it"==lang?"Questo ombrellone non è disponibile <br/>":"This sunshade is not available<br/>";for(var h=parseInt(a(this).data("count"))-1;h>=0;h--)f=moment(a(this).data("checkin"+h)).format("DD MMM,  YYYY"),g=moment(a(this).data("checkout"+h)).format("DD MMM, YYYY"),e+="it"==lang?" da  "+f+" a "+g+"<br/>":" from "+f+" to "+g+"<br/>";a(".overlay").css("background","rgba(0, 105, 210, 0.33)"),a(this).removeClass("yellow").addClass("blue"),a(this).addClass("previous"),saveToCart(a(this),c,b,"previous")}a(".message").html(e),a(".number").html(b),a("#myModal").modal()}),a(".input-group.date")[0]&&(a("#chart-search-form")[0]?a(".input-group.date").datepicker({todayHighlight:!0,autoclose:!0,format:"M dd, yyyy",orientation:"bottom left",ignoreReadonly:!0,keyboardNavigation:!0,showOnFocus:!0}):a(".input-group.date").datepicker({todayHighlight:!0,autoclose:!0,format:"M dd, yyyy",orientation:"bottom left",ignoreReadonly:!0,keyboardNavigation:!0,showOnFocus:!0,startDate:_startDate,endDate:_endDate})),a(".selectpicker.servicetype")[0]&&a(".selectpicker.servicetype").selectpicker({style:"btn-success",size:4}),a(".prenota")[0]&&".prenota".click(function(b){b.preventDefault(),checksum()?a("#bookform").submit():a("#myModal-warning").modal()}),a(".modal-close")[0]&&a(".modal-close").click(function(){a(".modal").modal("hide")}),a("#donut-chart")[0]&&a.plot("#donut-chart",Revenue,{series:{pie:{innerRadius:.5,show:!0,stroke:{width:2},label:{show:!0}}},legend:{container:".flc-donut",backgroundOpacity:.5,noColumns:0,backgroundColor:"white",lineWidth:0},grid:{hoverable:!0,clickable:!0},tooltip:!0,tooltipOpts:{content:"%p.0%, %s",shifts:{x:20,y:0},defaultTheme:!1,cssClass:"flot-tooltip"}}),a("#pie-chart")[0]&&a.plot("#pie-chart",Customers,{series:{pie:{show:!0,stroke:{width:2},label:{show:!0}}},legend:{container:".flc-pie",backgroundOpacity:.5,noColumns:0,backgroundColor:"white",lineWidth:0},grid:{hoverable:!0,clickable:!0},tooltip:!0,tooltipOpts:{content:"%p.0%, %s",shifts:{x:20,y:0},defaultTheme:!1,cssClass:"flot-tooltip"}})});